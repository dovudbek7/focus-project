{% extends 'base.html' %}

{% block content %}
<div class="content-body  container">
    <h1 class="display-4">{{ detail.title }}</h1>
<p class="text-muted">Published on {{ detail.publish|date:"F d, Y" }}</p>
<p>{{ detail.body }}</p>

<hr class="my-4">

<h4 class="mb-3">Comments:</h4>
{% for comment in detail.comments.all %}
    <div class="mb-3 border p-3 rounded">
        <strong class="d-block mb-2">{{ comment.name }}</strong>
        <p>{{ comment.body }}</p>
    </div>
{% empty %}
    <p>No comments yet.</p>
{% endfor %}

<hr class="my-4">

<h4 class="mb-3">Leave a Comment:</h4>
<form method="post">
    {% csrf_token %}
    <div class="mb-3">
        {{ comment_form.as_p }}
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>

<hr class="my-4">

<h4 class="mb-3">Similar Posts:</h4>
<ul class="list-unstyled">
    {% for similar_post in similar_posts %}
        <li><a href="{{ similar_post.get_absolute_url }}" class="text-decoration-none">{{ similar_post.title }}</a></li>
    {% empty %}
        <li>No similar posts found.</li>
    {% endfor %}
</ul>
    <br><br><br><br><br>
</div>
{% endblock %}
